<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* values\keys\entries三个方法(需要调用)都可以通过for...of遍历,forEach(Map实例像数组一样调用)直接遍历 */

        /* -------------------------------------------------------------- */
        /* 遍历Map */
        const myMap = new Map();
        myMap.set(0, "zero");
        myMap.set(1, "one");
        for (const [key, value] of myMap) {
            console.log(`${key} = ${value}`);
        }
        // 0 = zero
        // 1 = one
        for (const key of myMap.keys()) {
            console.log(key);
        }
        // 0
        // 1
        for (const value of myMap.values()) {
            console.log(value);
        }
        // zero
        // one
        for (const [key, value] of myMap.entries()) {
            console.log(`${key} = ${value}`);
        }
        // 0 = zero
        // 1 = one
        myMap.forEach((value, key) => {
            console.log(`${key} = ${value}`);
        });
        // 0 = zero
        // 1 = one

        /* -------------------------------------------------------------- */
        /* values会维护一个迭代器,可以通过next(),迭代获取Map中对象元素的value值
        values() 方法返回一个新的迭代器对象。它包含按顺序插入 Map 对象中每个元素的 value 值。
        非常类似generator,及其next(),也是有value和done两个属性
        */
        const MyMap2 = new Map();
        MyMap2.set("0", "foo");
        MyMap2.set(1, "bar");
        MyMap2.set({}, "baz");
        const mapValues = MyMap2.values();
        console.log(mapValues.next().value); // "foo"
        console.log(mapValues.next().value); // "bar"
        console.log(mapValues.next().value); // "baz"

        /* -------------------------------------------------------------- */
        /* keys和entries同理 */

        /* -------------------------------------------------------------- */
        /* forEach方法,1-2个参数,回调函数必写,可以指定this值
        返回值undefined
        回调函数的参数,可以有1-3个,分别是value\key\map
        会对undefined键执行回调
        */
        function logMapElements(value, key, map) {
            console.log(`m[${key}] = ${value}`);
        }
        new Map([
            ['foo', 3],
            ['bar', {}],
            ['baz', undefined],
        ]).forEach(logMapElements);
        // Expected output: "m[foo] = 3"
        // Expected output: "m[bar] = [object Object]"
        // Expected output: "m[baz] = undefined"

    </script>
</body>

</html>