<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* async-await
        它是Generator函数的语法糖，将Generator函数的星号 * 替换成async，将yield替换成await。
        1.自带执行器,自动执行
        2.有异步操作,await表示紧跟在后面的表达式需要等待结果
        3.yield命令后面只能是Thunk函数或Promise对象,async函数的await命令后面既可以是Promise对象也可以是原始类型的值
        4.Generator函数返回值是Iterator对象，而async返回值是Promise对象;可以用then方法指定下一步的操作

        */
        function getSomething() {
            return "something";
        }

        async function testFulfilledAsync() {
            return Promise.resolve("hello async");
        }

        async function testRejectedAsync() {
            return Promise.reject("hello 2async");
        }

        async function test() {
            const v1 = await getSomething();
            const v2 = await testFulfilledAsync();
            console.log(v1, v2);
        }

        test();
        // something hello async

    </script>
</body>

</html>